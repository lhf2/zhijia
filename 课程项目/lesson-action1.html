<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <title>动作分解</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/lesson-detail.css">
    <script src="js/rem.js"></script>
    <link rel="stylesheet" href="https://g.alicdn.com/de/prismplayer/2.3.5/skins/default/aliplayer-min.css" />
    <script type="text/javascript" src="https://g.alicdn.com/de/prismplayer/2.3.5/aliplayer-min.js"></script>
    <style>
        .prism-player,.lesson-img{
            height:300px;
        }
        .prism-big-play-btn{
            position: absolute;
            top:0!important;
            left:0!important;
            right: 0!important;
            bottom: 0!important;
            margin: auto;
        }
        .banner-inner .prism-player .prism-controlbar{
            display: none!important;
        }
        .banner-inner{
            min-height:210px!important;
        }
    </style>
</head>
<body>
<article class="lesson-page">
    <section class="lesson-box">
        <div class="lesson-img">
            <div class="prism-player" id="J_prismPlayer" style="position: absolute;left:0%;"></div>
        </div>
        <header class="lesson-top" id="headerNav">
            <a class="return-btn" href="javascript:;">
                <img src="img/return1.png" alt="">
            </a>
            <a class="share-btn" href="javascript:;">
                <img src="img/share1.png" alt="">
            </a>
        </header>
        <div class="lesson-inner">
            <p class="lesson-title">课程标题最多支持两行课程标题最多支持两行课程标题最多支持两行</p>
            <div class="lesson-play">
                <a href="video-play.html">
                    <img src="img/play.png" alt="">
                    <span>播放课程</span>
                </a>
            </div>
        </div>
    </section>
    <section class="lesson-people">
        <div class="people-box">
            <div class="people-num"><span>10</span>人已报名听课</div>
            <ul class="people-detail">
                <div class="people-more">...</div>
                <li class="people-list">
                    <img src="img/user.png" alt="">
                </li>
                <li class="people-list">
                    <img src="img/user.png" alt="">
                </li>
                <li class="people-list">
                    <img src="img/user.png" alt="">
                </li>
                <li class="people-list">
                    <img src="img/user.png" alt="">
                </li>
                <li class="people-list">
                    <img src="img/user.png" alt="">
                </li>
                <li class="people-list">
                    <img src="img/user.png" alt="">
                </li>
            </ul>
        </div>
        <div class="lesson-evaluate">
            <a href="lesson-evaluate.html">
                <div class="lesson-score">
                    <span>课程评价(89)</span>
                    <div class="score-box">
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                        <span class="score-num">5.0</span>
                    </div>
                </div>
                <div class="more-btn">
                    <img src="img/more.png" alt="">
                </div>
            </a>
        </div>
    </section>
    <section class="action-explain">
        <h1>动作分解</h1>
        <ul class="explain-box">
            <li class="a-explain-list">
                <div class="ex-img">
                    <img src="img/lesson.png" alt="">
                </div>
                <div class="ex-text">
                    <p class="ex-name">枕骨按摩</p>
                    <p class="ex-time">20s</p>
                </div>
            </li>
            <li class="a-explain-list">
                <div class="ex-img">
                    <img src="img/lesson.png" alt="">
                </div>
                <div class="ex-text">
                    <p class="ex-name">枕骨按摩</p>
                    <p class="ex-time">20s</p>
                </div>
            </li>
            <li class="a-explain-list">
                <div class="ex-img">
                    <img src="img/lesson.png" alt="">
                </div>
                <div class="ex-text">
                    <p class="ex-name">枕骨按摩</p>
                    <p class="ex-time">20s</p>
                </div>
            </li>
            <li class="a-explain-list">
                <div class="ex-img">
                    <img src="img/lesson.png" alt="">
                </div>
                <div class="ex-text">
                    <p class="ex-name">枕骨按摩</p>
                    <p class="ex-time">20s</p>
                </div>
            </li>
            <li class="a-explain-list">
                <div class="ex-img">
                    <img src="img/lesson.png" alt="">
                </div>
                <div class="ex-text">
                    <p class="ex-name">枕骨按摩</p>
                    <p class="ex-time">20s</p>
                </div>
            </li>
            <li class="a-explain-list">
                <div class="ex-img">
                    <img src="img/lesson.png" alt="">
                </div>
                <div class="ex-text">
                    <p class="ex-name">枕骨按摩</p>
                    <p class="ex-time">20s</p>
                </div>
            </li>
        </ul>
        <div class="open-btn">
            <span>展开全部</span>
            <img src="img/open.png" alt="">
        </div>
    </section>
    <section class="evaluate-box">
        <div class="evaluate-title">
            <span>课程评价(89)</span>
            <span class="more-btn">
                <img src="img/more.png" alt="">
            </span>
        </div>
        <div id="wrapper">
            <ul class="evaluate-detail">
                <li class="evaluate-list">
                    <div class="eva-top">
                        <div class="icon-box">
                            <div class="icon-inner">
                                <span class="icon-img">
                                    <img src="img/user.png" alt="">
                                </span>
                                <i class="icon-level">V<sub>3</sub></i>
                            </div>
                        </div>
                        <div class="eva-right">
                            <div class="name-time">
                                <span class="icon-name">巴卫</span>
                                <span class="commmit-time">2017-11-29</span>
                            </div>
                            <div class="icon-evaluate">
                                <div class="score-box">
                                    <ul>
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                    </ul>
                                    <span class="score-num">5.0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="evaluate-content">
                        <p>午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人而午饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人饭我发问个人</p>
                        <div class="more-content">查看全文</div>
                    </div>
                </li>
            </ul>
        </div>
        <div class="more-evaluate"><a href="lesson-evaluate.html">查看全部评价</a></div>
        <div class="no-comment">别拉了，到底了</div>
    </section>
    <!--分享弹窗-->
    <section class="share-alert">
        <div class="share-alert-inner">
            <ul class="share-types">
                <li class="share-type-list">
                    <img src="img/share-wx.png" alt="">
                </li>
                <li class="share-type-list">
                    <img src="img/share-pyq.png" alt="">
                </li>
                <li class="share-type-list">
                    <img src="img/share-wb.png" alt="">
                </li>
                <li class="share-type-list">
                    <img src="img/share-qq.png" alt="">
                </li>
            </ul>
            <div class="share-close">
                <img src="img/close.png" alt="">
            </div>
        </div>
    </section>
</article>
<article class="lesson-action">
    <div class="lesson-action-inner">
        <section class="action-banner">
            <div class="action-close">
                <img src="img/ac-close.png" alt="">
            </div>
            <div class="banner-inner">
                <div class="prism-player" id="J_prismPlayer1" style="position: absolute;left:0%;"></div>
            </div>
            <div class="prev-btn">
                <img src="img/prev.png" alt="">
            </div>
            <div class="next-btn">
                <img src="img/next.png" alt="">
            </div>
        </section>
        <section class="action-detail">
            <div class="action-title">
                <span class="action-num"><i id="now">1</i>/<i id="total">5</i></span>
                <span class="action-name">颈部拉伸</span>
            </div>
            <div class="action-box">
                <h1>锻炼部位</h1>
                <p>斜方肌</p>
            </div>
            <div class="action-box">
                <h1>动作讲解</h1>
                <ul class="action-explain">
                    <li class="explain-list">
                        啦啦啦啦带我飞舒服舒服搞得跟的干活哈哈就
                    </li>
                    <li class="explain-list">
                        啦啦啦啦带我飞舒服舒服搞得跟的干活哈哈就
                    </li>
                    <li class="explain-list">
                        啦啦啦啦带我飞舒服舒服搞得跟的干活哈哈就
                    </li>
                </ul>
            </div>
            <div class="action-box">
                <h1>动作效果</h1>
                <p>颈部有疼痛的拉伸感</p>
            </div>
            <div class="action-box">
                <h1>注意事项</h1>
                <p>颈部有疼痛的拉伸感颈部有疼痛的拉伸感</p>
            </div>
            <div class="action-box">
                <h1>动作强度</h1>
                <p>单侧共拉伸2-3次，共3组</p>
            </div>
        </section>
    </div>
</article>
<script src="js/jquery-2.1.4.min.js"></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script src="js/demo.js"></script>
<script src="http://vjs.zencdn.net/6.4.0/video.js"></script>
<script>
    $(document).ready(function(){
        //点击显示、隐藏弹窗
        var wH = $(window).height();
        $('.a-explain-list').click(function(){
            var index = $(this).index('.a-explain-list');
            $('.lesson-action').animate({bottom:0}, function () {
               /* $('body').css({
                    //"height": "100%",
                    //"position":"fixed",
                    "overflow":'hidden'
                })*/
                $('html').css({
                    //"position":"fixed",
                    "overflow":'hidden'
                })
            })
            autoPlay();
        })
        $('.action-close').click(function(){
            $('.lesson-action').animate({bottom:-wH}, function () {
                /*$('body').css({
                    //"height": "auto",
                    //"position":"static",
                    "overflow":"auto"
                })*/
                $('html').css({
                    //"position":"static",
                    "overflow":"auto"
                })
            })
        })
        //点击展开全部
        $('.open-btn').click(function(){
            var state = $(this).children('span').html();
            if(state == '展开全部'){
                console.log(1);
                $(this).children('span').html('收起');
                $(this).children('img').attr('src','img/open1.png')
                $('.explain-box').css({height:'auto'});
            }else{
                console.log(2);
                $(this).children('span').html('展开全部');
                $(this).children('img').attr('src','img/open.png')
                $('.explain-box').css({height:'5rem'});
            }
        })
        //兼容安卓跟ios的通栏
        var barHeight = 0;
        var dpr = window.devicePixelRatio;
        $('#headerNav').css('top',barHeight/dpr+'px');
        //显示查看全文
        $('.evaluate-content p').each(function(){
            var lineHeight = parseInt($(this).css('maxHeight'));
            if($(this).height()>=lineHeight){
                $(this).siblings('.more-content').show();
            }
        })
        //点击全文
        $('.more-content').click(function(){
            if($(this).html() == '查看全文'){
                $(this).html('收起评论');
                var height = $(this).siblings('p').height();
                $(this).siblings('p').css({
                    "max-height":'100%',
                    "min-height":height,
                    'overflow':'auto'
                });
            }else{
                $(this).html('查看全文');
                $(this).siblings('p').css({
                    "max-height":'1.78rem',
                    "min-height":'auto',
                    'overflow':'hidden'
                });
            }
        })
    })
</script>
<script>
    var player = new Aliplayer({
                id: "J_prismPlayer",
                autoplay: false,
                isLive:false,
                playsinline:true,
                width:"100%",
                height:'300',
                controlBarVisibility:"always",
                useH5Prism:false,
                useFlashPrism:false,
                source:"http://download.dcloud.net.cn/FastAndroid-mini.mp4",
                cover:"img/lesson.png",
                vid: "80c9de6be1984020a31231ecf353621b",
                playauth: "客户调用接口生成",
                x5_type:'h5',
                x5_fullscreen:true,
                x5_orientation:'landscape',
                skinLayout:[{"name":"bigPlayButton","align":"blabs","x":30,"y":80},
                    {"name":"H5Loading","align":"cc"},
                    {"name":"controlBar","align":"blabs","x":0,"y":0,"children":[{"name":"progress","align":"tlabs","x":0,"y":0},
                        {"name":"playButton","align":"tl","x":15,"y":26},
                        {"name":"fullScreenButton","align":"tr","x":20,"y":25},
                        {"name":"timeDisplay","align":"tl","x":10,"y":20},
                        {"name":"streamButton","align":"tr","x":20,"y":23},
                        {"name":"speedButton","align":"tr","x":10,"y":23},
                        {"name":"volume","align":"tr","x":20,"y":25}]}]
            },function(player){
                console.log("播放器创建了。");
            }
    );
    var player1 = new Aliplayer({
                id: "J_prismPlayer1",
                autoplay: true,
                isLive:false,
                playsinline:true,
                width:"100%",
                height:"auto",
                controlBarVisibility:"always",
                useH5Prism:true,
                useFlashPrism:false,
                source:"//player.alicdn.com/video/aliyunmedia.mp4",
                cover:"",
                x5_type:'h5',
                x5_fullscreen:false,
                x5_video_position:'top',
            },function(player1){
                console.log("播放器创建了。");
            }
    );
    function autoPlay() {
        wx.config({
            // 配置信息, 即使不正确也能使用 wx.ready
            debug: false,
            appId: '',
            timestamp: 1,
            nonceStr: '',
            signature: '',
            jsApiList: []
        });
        wx.ready(function() {
            var video=$(player1.el()).find('video')[0];
            video.play();
        });
    };
</script>
</body>
</html>